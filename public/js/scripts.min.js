/*! dandydomains ~ 2016-12-28 */
function domainrCheck(a){var b=5;$.ajax({url:"/domainr?domain="+a,timeout:1e3*b}).success(function(a){return!a.status||a.status.length<=0?console.log("Fail: Couldnt find anything from Domainr"):(console.log(a.status[0]),void getDomainrData(a.status[0]))}).fail(function(a){console.log("Fail: "+a.status),$("main").find(".current").addClass("dead-item"),$(".loading").hide(),$(".errors").show(),$(".errors").html("Ahh shit, it's broken."),setTimeout(function(){$(".errors").html('Ahh shit, it\'s broken. <a href="https://domainr.com/">Domainr</a> is failing to return anything on this domain.')},2e3),setTimeout(function(){$(".errors").html('Ahh shit, it\'s broken. <a href="https://domainr.com/">Domainr</a> is failing to return anything on this domain. Sorry!')},5e3)})}function getDomainrData(a){var b={unregistrable:"unavailable",dpml:"unavailable",transferable:"available",inactive:"available",active:"taken",undelegated:"maybe",pending:"maybe"},c=b[a.summary]||"unknown";console.log("state",c,a);var d=a.domain,e=["",""];("available"===c||"maybe"===c||"unknown"===c)&&(e[0]='<a title="Register this domain!" href="https://domainr.com/'+d+'">',e[1]="</a>");var f=e[0]+d.replace(".",'<span class="'+c+'">.</span>')+e[1],g="."+a.zone,h="#",i="This domain is "+e[0]+'<span class="'+c+'">'+c+"</span>"+e[1]+".",j='Read more about the <a href="'+h+'"><span>"'+g+'"</span></a>  suffix.';$("more-detail").addClass(c),$(".loading").hide(),$(".more-detail").find("h1").html(f),$(".availability").html(i).show(),$(".suffix").html(j).show(),$("main").find(".current").addClass(c+"-item")}function filters(){$(".text-filter").on("input",function(){filterDomains()}),$(".domain-filter").change(function(){filterDomains()}),$(".sort-filter").change(function(){sortDomains()})}function sortDomains(){var a=$(".sort-filter").val();$("main").find("li").tsort({order:a})}function filterDomains(){var a=$(".domain-filter").val(),b=$(".text-filter").val();b=b.trim().replace(/\s+/g,"").toLowerCase().replace(".",""),$("main").find("li").show(),$("main").find("li").each(function(){var c=$(this).find("h1").html();if("none"!=a){var d=-1==c.indexOf(a);d&&$(this).hide()}var e=-1==c.replace(".","").indexOf(b);e&&$(this).hide()}),domainCounter()}function headerResize(){$("main").css("paddingTop",$(".top").outerHeight()),$(".more-detail").css("height",$("header").outerHeight())}function domainCounter(){var a=0;$("main").find("li").each(function(){$(this).is(":visible")&&a++}),0==a?($(".amount").html("Try a different filter?"),$(".big-error").addClass("big-error-shown")):($(".amount").html(a+" domains returned!"),$(".big-error").removeClass("big-error-shown"))}function moreDetailsControl(){$("main").find("li").click(function(){var a=$(this).text().trim(),b=a.replace(".",'<span class="fullstop">.</span>');$(".availability").hide(),$(".suffix").hide(),$(".errors").hide(),$(".loading").show(),$(".more-detail").find("h1").html(b),$(".more-detail").addClass("more-detail-hidden"),$("main").find("li").removeClass("current"),domainrCheck(a),$(this).addClass("current"),$("header").addClass("header-hidden"),$(".more-detail").removeClass("more-detail-hidden")}),$(".more-detail").find(".close").click(function(){$("header").removeClass("header-hidden"),$(".more-detail").addClass("more-detail-hidden"),$(".current").removeClass("current")})}function capitaliseString(a){return a.charAt(0).toUpperCase()+a.slice(1)}$(document).ready(function(){moreDetailsControl(),filters(),headerResize(),$(window).resize(function(){headerResize()}),domainCounter()});
//# sourceMappingURL=scripts.map.js